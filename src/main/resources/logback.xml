<configuration>

	<!-- <appender name="STDOUT" -->
	<!-- class="ch.qos.logback.core.ConsoleAppender"> -->
	<!-- <target>System.out</target> -->
	<!-- <encoder> -->
	<!-- <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n -->
	<!-- </pattern> -->
	<!-- </encoder> -->
	<!-- </appender> -->

<!-- 	<appender name="SAVE-TO-FILE" -->
<!-- 		class="ch.qos.logback.core.rolling.RollingFileAppender"> -->

<!-- 		<file>applog.log</file> -->

<!-- 		<encoder -->
<!-- 			class="ch.qos.logback.classic.encoder.PatternLayoutEncoder"> -->
<!-- 			<Pattern> -->
<!-- 				%d{dd-MM-yyyy HH:mm:ss.SSS} [%thread] %-5level %logger{36}.%M - %msg%n -->
<!-- 			</Pattern> -->
<!-- 		</encoder> -->

<!-- 		<rollingPolicy -->
<!-- 			class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy"> -->
<!-- 			<fileNamePattern> -->
<!-- 				${LOG_PATH}/archived/log_%d{dd-MM-yyyy}_%i.log -->
<!-- 			</fileNamePattern> -->
<!-- 			<maxFileSize>1MB</maxFileSize> -->
<!-- 			<maxHistory>10</maxHistory> -->
<!-- 			<totalSizeCap>100MB</totalSizeCap> -->
<!-- 		</rollingPolicy> -->

<!-- 	</appender> -->

	<appender name="STDERR"
		class="ch.qos.logback.core.ConsoleAppender">
		<target>System.err</target>
		<encoder>
			<pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
			</pattern>
		</encoder>
	</appender>

	<appender name="fast-kafka-appender"
		class="com.github.danielwegener.logback.kafka.KafkaAppender">
		<encoder
			class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
			<pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
			</pattern>
		</encoder>

		<topic>fast-logs</topic>
		<keyingStrategy
			class="com.github.danielwegener.logback.kafka.keying.NoKeyKeyingStrategy" />
		<deliveryStrategy
			class="com.github.danielwegener.logback.kafka.delivery.AsynchronousDeliveryStrategy" />

		<producerConfig>bootstrap.servers=localhost:9092</producerConfig>
		<producerConfig>acks=0</producerConfig>
		<producerConfig>linger.ms=100</producerConfig>
		<producerConfig>max.block.ms=100</producerConfig>
		<producerConfig>client.id=${HOSTNAME}-${CONTEXT_NAME}-logback-relaxed
		</producerConfig>

	</appender>

	<root level="info">
		<appender-ref ref="fast-kafka-appender" />
<!-- 		<appender-ref ref="STDOUT" /> -->
<!-- 		<appender-ref ref="SAVE-TO-FILE" /> -->
	</root>
</configuration>